<Page loaded="onNavigatingTo" class="page" backgroundColor="white"
xmlns:IQKeyboardManager="@nativescript-iqkeyboardmanager"
>
    <Page.actionBar>
        <ActionBar class="action-bar">
            <Label text="Login" class="title" />

        </ActionBar>
    </Page.actionBar>

    <ScrollView>
        <StackLayout verticalAlignment="center" horizontalAlignment="center" padding="24" spacing="20">

            <!-- 🔷 App Logo -->
            <!-- <Image src="~/assets/ePA-Login.png" stretch="aspectFit" height="200" width="200" horizontalAlignment="center" /> -->

            <!-- 🔒 Login Card -->
            <StackLayout class="card" padding="24" borderRadius="16" backgroundColor="lightgrey" shadowColor="#000" shadowOffsetWidth="0" shadowOffsetHeight="2" shadowOpacity="0.3" shadowRadius="4" width="90%">

                <!-- 📱 Mobile Number -->
                <Label text="Enter Mobile Number:" class="label" fontSize="16" fontWeight="bold" />
                <TextField id="mobileField"
                           hint="10-digit Mobile Number"
                           keyboardType="phone"
                           returnKeyType="done"
                           autocorrect="false"
                           autocapitalizationType="none"
                           text="{{ mobileNumber }}"
                           class="input"
                           borderRadius="8"
                           padding="12"
                           backgroundColor="white" />

                <!-- 🔘 Send OTP Button -->
                <Button text="Send OTP"
                        class="button"
                        tap="navigateToHome"
                        borderRadius="8"
                        marginTop="12"
                        backgroundColor="#3b82f6"
                        color="white" />

                <!-- 🔐 OTP Section -->
                <StackLayout visibility="{{ showOtpField ? 'visible' : 'collapse' }}" spacing="12" marginTop="16">
                    <Label text="Enter OTP:" class="label" fontSize="16" fontWeight="bold" />
                    <TextField id="otpField"
                               text="{{ enteredOtp }}"
                               hint="Enter OTP"
                               keyboardType="number"
                               returnKeyType="done"
                               class="input"
                               borderRadius="8"
                               padding="12"
                               backgroundColor="#f1f1f1" />

                    <Button text="Verify OTP"
                            tap="onVerifyOtpTap"
                            borderRadius="8"
                            backgroundColor="#16a34a"
                            color="white" />
                </StackLayout>
            </StackLayout>
        </StackLayout>
    </ScrollView>
</Page>
